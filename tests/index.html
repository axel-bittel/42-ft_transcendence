<!DOCTYPE html>

<html>
    <head></head>
    <body>
	    <script src="https://cdn.socket.io/4.5.0/socket.io.min.js" integrity="sha384-7EyYLQZgWBi67fBtVxw60/OWl1kjsfrPFcaU0pp0nAh+i8FD068QogUvg85Ewy1k" crossorigin="anonymous"></script>
        <script>
                const socket = io("http://localhost:3000", {
                    extraHeaders: {
                        Authorization: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IkpvaG4iLCJzdWIiOiI0MiIsImlhdCI6MTY2MTI1MTUxMH0._z3v4RmAss_uzA4jL-BO_Qsw3BSmTMmiImoJtpo-AYs",
                    }
                });
                  
                socket.on("connect", (data) => {
                    console.log(socket.id);
                    //console.log(data); 
                    //socket.emit("new_room", {room_name: "Room3", is_password_protected: false});
                    //socket.emit("new_message_room", {room_name: "Room3", message: "test"});
                    //socket.emit("get_message_room", {room_name: "Room3", password: ""})
                });

                socket.on("disconnect", () => {
                    console.log(socket.id); // undefined
                });	
                socket.on("salut", (data) => {
                    console.log(data); // x8WIv7-mJelg7on_ALbx
                });
                console.log("Try new_message");
                console.log(socket);

        </script>
    </body>
</html>