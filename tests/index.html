<!DOCTYPE html>

<html>
    <head></head>
    <body>
	    <script src="https://cdn.socket.io/4.5.0/socket.io.min.js" integrity="sha384-7EyYLQZgWBi67fBtVxw60/OWl1kjsfrPFcaU0pp0nAh+i8FD068QogUvg85Ewy1k" crossorigin="anonymous"></script>
        <script>
                const socket = io("http://localhost:3000", {
                    extraHeaders: {
                        Authorization: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IkpvaG4iLCJzdWIiOiI0MiIsImlhdCI6MTY2MTE3OTY0M30.o-y_xG1rPkHco14DzpO1cNZ-8pQ7stZlzbuSTYzHnjk" 
                    }
                });
                  
                socket.on("connect", (data) => {
                    console.log(socket.id);
                    console.log(data); 
                });

                socket.on("disconnect", () => {
                    console.log(socket.id); // undefined
                });	
                socket.on("salut", (data) => {
                    console.log(data); // x8WIv7-mJelg7on_ALbx
                });
                console.log("Try new_message");
                console.log(socket);
                socket.emit("new_msg_room", {roomId: 1, msg: "test", Authorization: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IkpvaG4iLCJzdWIiOiI0MiIsImlhdCI6MTY2MTE3OTY0M30.o-y_xG1rPkHco14DzpO1cNZ-8pQ7stZlzbuSTYzHnjk" });

        </script>
    </body>
</html>